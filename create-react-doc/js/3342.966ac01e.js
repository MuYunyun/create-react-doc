(self.webpackChunkcreate_react_doc=self.webpackChunkcreate_react_doc||[]).push([[3342],{43342:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(59713),a=n.n(r),p=n(6479),i=n.n(p),c=(n(67294),n(3905));function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={};function s(t){var e=t.components,n=i()(t,["components"]);return(0,c.kt)("wrapper",u(u(u({},l),n),{},{components:e,mdxType:"MDXLayout"}),(0,c.kt)("h2",null,"站点发布"),(0,c.kt)("p",null,"在 ",(0,c.kt)("a",u({parentName:"p"},{href:"http://muyunyun.cn/create-react-doc/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B"}),"快速上手")," 一节中介绍了如何快速搭建站点, 本节将介绍如何将搭建好的站点打包、发布到 gh-pages。"),(0,c.kt)("h3",null,"自动打包发布到 gh-pages (推荐)"),(0,c.kt)("p",null,"初始化的模板项目集成了 ",(0,c.kt)("inlineCode",{parentName:"p"},"Github action")," 的 ",(0,c.kt)("a",u({parentName:"p"},{href:"https://github.com/MuYunyun/create-react-doc/blob/main/packages/templates/default/.github/workflows/gh-pages.yml"}),"ci 配置"),", 使用方只需在 main 分支执行 ",(0,c.kt)("inlineCode",{parentName:"p"},"git push")," 即可以完成站点的自动部署。"),(0,c.kt)("p",null,(0,c.kt)("img",u({parentName:"p"},{src:"http://with.muyunyun.cn/ea24d511f76efe5ba5d13bb6b1609aac.jpg",alt:null}))),(0,c.kt)("p",null,"如果是第一次部署, 在执行以下操作后, 需要在项目的 setting 选项卡中将 Github Pages 选择为 gh-pages。(详情见 ",(0,c.kt)("a",u({parentName:"p"},{href:"https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-first-deployment-with-github_token"}),"First Deployment with GITHUB_TOKEN"),")"),(0,c.kt)("pre",null,(0,c.kt)("code",u({parentName:"pre"},{className:"language-bash"}),'git init\ngit add .\ngit commit -m "first commit"\ngit branch -M main\ngit remote add origin https://github.com/用户或组织名/项目名.git\ngit push -u origin main\n')),(0,c.kt)("h3",null,"手动打包发布"),(0,c.kt)("p",null,"如果需要发布到自定义服务器, 可以执行 ",(0,c.kt)("inlineCode",{parentName:"p"},"npm run build")," 或者 ",(0,c.kt)("inlineCode",{parentName:"p"},"yarn build")," 对将要发布的文档站点进行打包构建, 此时的文档网站已准备好进行部署。"),(0,c.kt)("p",null,"接着将打包出的 ",(0,c.kt)("inlineCode",{parentName:"p"},".crd-dist")," 的文件资源同步到目标服务器即可。"))}s.isMDXComponent=!0}}]);